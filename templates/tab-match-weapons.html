
<style type="text/css" media="screen">
	
.weaponcardimg{
	height:150px;
	object-fit: contain;
}

</style>

<style type="text/css" media="screen">
.wrapper {
	display: flex;
	width:100%;
}


.wrapped {
	flex-basis: 100%;
}

#chartcontainer-match-weapons {
	height: 300px;
}


</style>

<div id="chartcontainer-match-weapons"> </div>

<script charset="utf-8">


Highcharts.chart('chartcontainer-match-weapons', {
    chart: {
        type: 'packedbubble',
        height: 300,
    },
    title: null,
    tooltip: {
        useHTML: true,
        pointFormat: '<b>{point.name}:</b> {point.value}'
    },
    plotOptions: {
        packedbubble: {
            minSize: '20%',
            maxSize: '100%',
            layoutAlgorithm: {
                gravitationalConstant: 0.05,
                splitSeries: true,
                seriesInteraction: false,
                dragBetweenSeries: true,
                parentNodeLimit: true
            },
            dataLabels: {
                enabled: true,
                format: '{point.name}',
                filter: {
                    property: 'y',
                    operator: '>',
                    value: 250
                },
                style: {
                    color: 'black',
                    textOutline: 'none',
                    fontWeight: 'normal'
                }
            }
        }
    },
    series: [
	{
        name: 'Weapon 1',
        data: [
		{ name: 'Player 1',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 2',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 3',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 4',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 5',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 6',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 7',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 8',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 9',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 10',  value: Math.floor(Math.random() * 11) },
		]
    },
	{
        name: 'Weapon 2',
        data: [
		{ name: 'Player 1',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 2',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 3',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 4',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 5',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 6',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 7',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 8',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 9',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 10',  value: Math.floor(Math.random() * 11) },
		]
    },
	{
        name: 'Weapon 3',
        data: [
		{ name: 'Player 1',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 2',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 3',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 4',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 5',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 6',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 7',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 8',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 9',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 10',  value: Math.floor(Math.random() * 11) },
		]
    },
	{
        name: 'Weapon 4',
        data: [
		{ name: 'Player 1',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 2',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 3',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 4',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 5',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 6',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 7',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 8',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 9',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 10',  value: Math.floor(Math.random() * 11) },
		]
    },
	{
        name: 'Weapon 5',
        data: [
		{ name: 'Player 1',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 2',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 3',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 4',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 5',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 6',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 7',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 8',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 9',  value: Math.floor(Math.random() * 11) },
		{ name: 'Player 10',  value: Math.floor(Math.random() * 11) },
		]
    },
	]
});

</script>

{{ range $weapon := .General.TopWeaponsByKills}}

<div class="card blue-grey lighten-5">
	<div class="card-image">
		<img class="weaponcardimg" src="/public/img/weapons/{{$weapon.String}}.jpg" >
		<span class="card-title black-text">{{$weapon}}</span>
	</div>
	<div class="card-tabs">
		<ul class="tabs tabs-fixed-width orange-text blue-grey lighten-5">
			<li class="tab"><a href="#tab-weapon-1{{$weapon}}"> <span class="orange-text">Kills</span></a></li>
			<li class="tab"><a href="#tab-weapon-2{{$weapon}}"> <span class="orange-text">Headshots</span></a></li>
			<li class="tab"><a href="#tab-weapon-3{{$weapon}}"> <span class="orange-text">Accuracy</span></a></li>
			<li class="tab"><a href="#tab-weapon-4{{$weapon}}"> <span class="orange-text">Damage</span></a></li>
		</ul>
	</div>

	<div class="card-content  blue-grey lighten-4">
		<div id="tab-weapon-1{{$weapon}}">
			<div class="row">
				<div class="container">
					<div class="row">
						<div class="col s6">
							<table style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByKills $weapon}} {{ if $player.ClanMember }} {{ if ne $player.Name "BOT"}}
								<tr>
									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Kills}} </td>
								</tr>
								{{end}}{{end}}{{end}} </table>
						</div>
						<div class="col s6">
							<table id="table1" style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByKills $weapon}} {{ if not $player.ClanMember }} {{ if ne $player.Name "BOT"}}
								<tr>
									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Kills}} </td>
								</tr>
								{{end}}{{end}}{{end}} </table>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="tab-weapon-2{{$weapon}}">
			<div class="row">
				<div class="container">
					<div class="row">
						<div class="col s6">
							<table style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByHS $weapon}}
								{{ if $player.ClanMember }}
								{{ if ne $player.Name "BOT"}}
								<tr>
									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Headshots}} </td>
								</tr>
								{{end}}
								{{end}}
								{{end}}
							</table>

						</div>
						<div class="col s6">

							<table id="table1" style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByHS $weapon}}
								{{ if not $player.ClanMember }}
								{{ if ne $player.Name "BOT"}}
								<tr>

									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Headshots}} </td>
								</tr>
								{{end}}
								{{end}}
								{{end}}
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="tab-weapon-3{{$weapon}}">
			<div class="row">
				<div class="container">
					<div class="row">
						<div class="col s6">
							<table style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByAccuracy $weapon}}
								{{ if $player.ClanMember }}
								{{ if ne $player.Name "BOT"}}
								<tr>
									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Accuracy}} </td>
								</tr>
								{{end}}
								{{end}}
								{{end}}
							</table>

						</div>
						<div class="col s6">

							<table id="table1" style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByAccuracy $weapon}}
								{{ if not $player.ClanMember }}
								{{ if ne $player.Name "BOT"}}
								<tr>

									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Accuracy}} </td>
								</tr>
								{{end}}
								{{end}}
								{{end}}
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="tab-weapon-4{{$weapon}}">
			<div class="row">
				<div class="container">
					<div class="row">
						<div class="col s6">
							<table style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByDamage $weapon}}
								{{ if $player.ClanMember }}
								{{ if ne $player.Name "BOT"}}
								<tr>
									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Damage}} </td>
								</tr>
								{{end}}
								{{end}}
								{{end}}
							</table>

						</div>
						<div class="col s6">

							<table id="table1" style="table-layout: fixed ; width: 100% ;" >
								{{range $player := $.General.ByDamage $weapon}}
								{{ if not $player.ClanMember }}
								{{ if ne $player.Name "BOT"}}
								<tr>

									<td style="width: 50%;" class="right-align"> {{$player.Name}} </td>
									{{$stat := index $player.WeaponStats $weapon}}
									<td class="orange-text left-align"> {{$stat.Damage}} </td>
								</tr>
								{{end}}
								{{end}}
								{{end}}
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{{end}}


<script charset="utf-8">
	M.AutoInit();
</script>
